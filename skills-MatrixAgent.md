# Matrix Agent - Blockchain Forensics AI

## é¡¹ç›®æ¦‚è¿°

Matrix Agent æ˜¯ä¸€ä¸ªä¸“ä¸šçš„åŒºå—é“¾å–è¯ AI æ™ºèƒ½ä½“ï¼Œä¸“æ³¨äºé“¾ä¸Šé£é™©è¯„ä¼°ã€äº¤æ˜“è¿½è¸ªå’Œæ™ºèƒ½åˆçº¦å®¡è®¡ã€‚è¯¥é¡¹ç›®æä¾›äº†ä¸€ä¸ªç°ä»£åŒ–çš„ Web ç•Œé¢ï¼Œé›†æˆäº†å¤šä¸ª AI æ¨¡å‹ï¼Œç”¨äºåˆ†æåŒºå—é“¾åœ°å€ã€è¿½è¸ªèµ„é‡‘æµå‘ã€è¯†åˆ«å®‰å…¨é£é™©ã€‚

**åœ¨çº¿è®¿é—®ï¼š** https://agent.matrixlab.work  
**GitHub ä»“åº“ï¼š** https://github.com/24373054/Matrix-Agent

---

## æ ¸å¿ƒåŠŸèƒ½

### 1. å¤šæ¨¡å‹ AI æ”¯æŒ
- **DeepSeek Chat**ï¼ˆé»˜è®¤ï¼‰- é«˜æ€§èƒ½å¯¹è¯æ¨¡å‹
- **Gemini 1.5 Flash** - å¿«é€Ÿå“åº”æ¨¡å‹
- **Gemini 1.5 Pro** - é«˜è´¨é‡åˆ†ææ¨¡å‹
- æ”¯æŒå®æ—¶æ¨¡å‹åˆ‡æ¢
- æ¨¡å‹é€‰æ‹©æŒä¹…åŒ–å­˜å‚¨

### 2. åŒºå—é“¾åœ°å€åˆ†æ
- **è‡ªåŠ¨è¯†åˆ«åœ°å€ç±»å‹**
  - Ethereum åœ°å€ï¼ˆ0x...ï¼‰
  - Solana åœ°å€ï¼ˆBase58ï¼‰
- **é£é™©è¯„åˆ†ç³»ç»Ÿ**ï¼ˆ0-100ï¼‰
  - Safeï¼ˆå®‰å…¨ï¼‰
  - Cautionï¼ˆè­¦å‘Šï¼‰
  - High Riskï¼ˆé«˜é£é™©ï¼‰
  - Criticalï¼ˆä¸¥é‡ï¼‰

### 3. äº¤æ˜“å›¾è°±å¯è§†åŒ–
- **èŠ‚ç‚¹ç±»å‹è¯†åˆ«**
  - Walletï¼ˆé’±åŒ…ï¼‰
  - Contractï¼ˆåˆçº¦ï¼‰
  - Mixerï¼ˆæ··å¸å™¨ï¼‰
  - Exchangeï¼ˆäº¤æ˜“æ‰€ï¼‰
- **èµ„é‡‘æµå‘è¿½è¸ª**
  - äº¤æ˜“é‡‘é¢å’Œä»£å¸ç±»å‹
  - å¤šå±‚çº§å…³ç³»å±•ç¤º
  - é£é™©èŠ‚ç‚¹é«˜äº®
- **äº¤äº’å¼ SVG å›¾è¡¨**

### 4. èµ„é‡‘æµåˆ†æ
- **å®Œæ•´çš„æ”»å‡»é“¾è¿½è¸ª**
  - Lureï¼ˆè¯±é¥µé˜¶æ®µï¼‰
  - Authï¼ˆæˆæƒé˜¶æ®µï¼‰
  - Theftï¼ˆç›—çªƒé˜¶æ®µï¼‰
  - Cleanupï¼ˆæ¸…ç†é˜¶æ®µï¼‰
  - Splitï¼ˆåˆ†æ•£é˜¶æ®µï¼‰
  - Mixï¼ˆæ··æ·†é˜¶æ®µï¼‰
  - Collectï¼ˆæ±‡é›†é˜¶æ®µï¼‰
- **æ—¶é—´çº¿å±•ç¤º**
- **å…³é”®åœ°å€æ ‡æ³¨**

### 5. æ™ºèƒ½åˆçº¦å®¡è®¡
- åˆçº¦åœ°å€éªŒè¯
- æ¼æ´æ£€æµ‹
- é£é™©è¯„ä¼°
- å®‰å…¨å»ºè®®

### 6. Markdown æ¸²æŸ“æ”¯æŒ
- **å®Œæ•´çš„ Markdown è¯­æ³•**
  - ä»£ç å—ï¼ˆå¸¦è¯­æ³•é«˜äº®ï¼‰
  - è¡Œå†…ä»£ç 
  - è¡¨æ ¼
  - åˆ—è¡¨ï¼ˆæœ‰åº/æ— åºï¼‰
  - é“¾æ¥
  - å¼•ç”¨å—
  - æ ‡é¢˜ï¼ˆH1-H6ï¼‰
  - ç²—ä½“/æ–œä½“
- **GitHub Flavored Markdown (GFM)**
- **ä»£ç é«˜äº®**ï¼ˆhighlight.jsï¼‰

### 7. å¤šè¯­è¨€æ”¯æŒ
- **English**ï¼ˆè‹±è¯­ï¼‰
- **ä¸­æ–‡**ï¼ˆç®€ä½“ä¸­æ–‡ï¼‰
- **æ—¥æœ¬èª**ï¼ˆæ—¥è¯­ï¼‰
- UI å’Œ AI å“åº”åŒæ­¥åˆ‡æ¢
- è¯­è¨€è®¾ç½®æŒä¹…åŒ–

### 8. ä¸»é¢˜ç³»ç»Ÿ
- **Light Mode**ï¼ˆæµ…è‰²æ¨¡å¼ï¼‰
- **Dark Mode**ï¼ˆæ·±è‰²æ¨¡å¼ï¼‰
- **System**ï¼ˆè·Ÿéšç³»ç»Ÿï¼‰
- å¹³æ»‘è¿‡æ¸¡åŠ¨ç”»
- ä¸»é¢˜è®¾ç½®æŒä¹…åŒ–

### 9. æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
- **æ”¯æŒçš„æ–‡ä»¶ç±»å‹**
  - å›¾ç‰‡ï¼ˆimage/*ï¼‰
  - PDF æ–‡æ¡£
  - æ–‡æœ¬æ–‡ä»¶ï¼ˆ.txtï¼‰
  - JSON æ•°æ®
- **å›¾ç‰‡é¢„è§ˆ**
- **å¤šæ¨¡æ€åˆ†æ**ï¼ˆå›¾ç‰‡+æ–‡æœ¬ï¼‰

### 10. ä¼šè¯ç®¡ç†
- **å¤šä¼šè¯æ”¯æŒ**
- **å†å²è®°å½•ä¿å­˜**
- **ä¼šè¯æ ‡é¢˜è‡ªåŠ¨ç”Ÿæˆ**
- **å¿«é€Ÿåˆ‡æ¢ä¼šè¯**
- **æ–°å»ºè°ƒæŸ¥**

---

## æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
```
- React 19.2.3
- TypeScript 5.8.2
- Vite 6.2.0
- Tailwind CSSï¼ˆå†…è”æ ·å¼ï¼‰
- Lucide Reactï¼ˆå›¾æ ‡åº“ï¼‰
- React Markdownï¼ˆMarkdown æ¸²æŸ“ï¼‰
- Remark GFMï¼ˆGitHub Flavored Markdownï¼‰
- Rehype Highlightï¼ˆä»£ç é«˜äº®ï¼‰
```

### AI é›†æˆ
```
- Google Gemini AI (@google/genai)
- DeepSeek APIï¼ˆOpenAI å…¼å®¹æ¥å£ï¼‰
- å¤šæ¨¡å‹åˆ‡æ¢æ¶æ„
- æµå¼å“åº”æ”¯æŒ
```

### åç«¯æ¶æ„
```
- Nginxï¼ˆåå‘ä»£ç† + é™æ€æ–‡ä»¶æœåŠ¡ï¼‰
- Let's Encryptï¼ˆSSL/TLS è¯ä¹¦ï¼‰
- ç”Ÿäº§çº§æ„å»ºä¼˜åŒ–
- Gzip å‹ç¼©
- é™æ€èµ„æºç¼“å­˜
```

---

## é¡¹ç›®ç»“æ„

```
matrix-agent/
â”œâ”€â”€ App.tsx                      # ä¸»åº”ç”¨ç»„ä»¶
â”œâ”€â”€ index.tsx                    # åº”ç”¨å…¥å£
â”œâ”€â”€ index.html                   # HTML æ¨¡æ¿
â”œâ”€â”€ types.ts                     # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ markdown.css                 # Markdown æ ·å¼
â”œâ”€â”€ components/
â”‚   â””â”€â”€ AnalysisCard.tsx        # åˆ†ææŠ¥å‘Šå¡ç‰‡ç»„ä»¶
â”œâ”€â”€ services/
â”‚   â””â”€â”€ gemini.ts               # AI æœåŠ¡å±‚ï¼ˆå¤šæ¨¡å‹æ”¯æŒï¼‰
â”œâ”€â”€ dist/                        # ç”Ÿäº§æ„å»ºè¾“å‡º
â”œâ”€â”€ logs/                        # åº”ç”¨æ—¥å¿—
â”œâ”€â”€ nginx.conf                   # Nginx é…ç½®
â”œâ”€â”€ vite.config.ts              # Vite é…ç½®
â”œâ”€â”€ tsconfig.json               # TypeScript é…ç½®
â”œâ”€â”€ package.json                # ä¾èµ–ç®¡ç†
â”œâ”€â”€ .env.local                  # ç¯å¢ƒå˜é‡ï¼ˆä¸æäº¤ï¼‰
â”œâ”€â”€ .gitignore                  # Git å¿½ç•¥è§„åˆ™
â”œâ”€â”€ start.sh                    # ç”Ÿäº§æ„å»ºè„šæœ¬
â”œâ”€â”€ stop.sh                     # ç”Ÿäº§ç¯å¢ƒä¿¡æ¯
â”œâ”€â”€ start-dev.sh                # å¼€å‘æœåŠ¡å™¨å¯åŠ¨
â”œâ”€â”€ stop-dev.sh                 # å¼€å‘æœåŠ¡å™¨åœæ­¢
â”œâ”€â”€ deploy.sh                   # ä¸€é”®éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ setup-ssl.sh                # SSL è¯ä¹¦é…ç½®
â”œâ”€â”€ status.sh                   # çŠ¶æ€æ£€æŸ¥è„šæœ¬
â”œâ”€â”€ README.md                   # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ DEPLOYMENT.md               # éƒ¨ç½²æ–‡æ¡£
â””â”€â”€ SCRIPTS.md                  # è„šæœ¬ä½¿ç”¨è¯´æ˜
```

---

## æ ¸å¿ƒæ•°æ®ç»“æ„

### AnalysisReportï¼ˆåˆ†ææŠ¥å‘Šï¼‰
```typescript
interface AnalysisReport {
  address: string;              // ç›®æ ‡åœ°å€
  riskScore: number;            // é£é™©è¯„åˆ† 0-100
  riskLevel: string;            // é£é™©ç­‰çº§
  labels: string[];             // æ ‡ç­¾åˆ—è¡¨
  entity?: string;              // å®ä½“åç§°
  volume24h: string;            // 24å°æ—¶äº¤æ˜“é‡
  
  executiveSummary: string;     // æ‰§è¡Œæ‘˜è¦
  attackerProfile: {            // æ”»å‡»è€…ç”»åƒ
    identity: string;
    location: string;
    fingerprints: string[];
  };
  fundsFlow: FundsFlowStep[];   // èµ„é‡‘æµå‘
  keyAddresses: KeyAddress[];   // å…³é”®åœ°å€
  graphData: {                  // å›¾è°±æ•°æ®
    nodes: GraphNode[];
    links: GraphLink[];
  };
  recentTransactions: [];       // æœ€è¿‘äº¤æ˜“
}
```

### Messageï¼ˆæ¶ˆæ¯ï¼‰
```typescript
interface Message {
  id: string;
  role: Role;                   // USER | MODEL
  text: string;
  timestamp: Date;
  analysis?: AnalysisReport;    // åˆ†ææŠ¥å‘Š
  attachment?: {                // é™„ä»¶
    name: string;
    type: string;
    preview: string;
  };
}
```

---

## éƒ¨ç½²æ¶æ„

### ç”Ÿäº§ç¯å¢ƒ
```
ç”¨æˆ·æµè§ˆå™¨
    â†“ HTTPS (443)
Nginx (åå‘ä»£ç†)
    â†“
é™æ€æ–‡ä»¶æœåŠ¡ (dist/)
    â†“
AI API è°ƒç”¨
    â”œâ”€â†’ DeepSeek API
    â””â”€â†’ Google Gemini API
```

### å¼€å‘ç¯å¢ƒ
```
ç”¨æˆ·æµè§ˆå™¨
    â†“ HTTP (3119)
Vite Dev Server
    â†“ HMR (WebSocket)
React Hot Reload
    â†“
AI API è°ƒç”¨
    â”œâ”€â†’ DeepSeek API
    â””â”€â†’ Google Gemini API
```

---

## å®‰å…¨ç‰¹æ€§

### 1. SSL/TLS åŠ å¯†
- Let's Encrypt å…è´¹è¯ä¹¦
- è‡ªåŠ¨ç»­æœŸé…ç½®
- HTTPS å¼ºåˆ¶é‡å®šå‘
- HSTS å®‰å…¨å¤´

### 2. å®‰å…¨å“åº”å¤´
```nginx
Strict-Transport-Security: max-age=31536000
X-Frame-Options: SAMEORIGIN
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
```

### 3. API å¯†é’¥ä¿æŠ¤
- ç¯å¢ƒå˜é‡å­˜å‚¨
- ä¸æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
- æœåŠ¡ç«¯è°ƒç”¨ï¼ˆé¿å…æš´éœ²ï¼‰

---

## æ€§èƒ½ä¼˜åŒ–

### 1. æ„å»ºä¼˜åŒ–
- **ä»£ç åˆ†å‰²**
  - react-vendor chunkï¼ˆReact æ ¸å¿ƒåº“ï¼‰
  - markdown chunkï¼ˆMarkdown ç›¸å…³åº“ï¼‰
  - ä¸»åº”ç”¨ chunk
- **å‹ç¼©ä¼˜åŒ–**
  - esbuild å‹ç¼©
  - Gzip å‹ç¼©ï¼ˆNginxï¼‰
- **Tree Shaking**ï¼ˆç§»é™¤æœªä½¿ç”¨ä»£ç ï¼‰

### 2. ç¼“å­˜ç­–ç•¥
```nginx
# é™æ€èµ„æºç¼“å­˜ 1 å¹´
location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
    expires 1y;
    add_header Cache-Control "public, immutable";
}
```

### 3. åŠ è½½ä¼˜åŒ–
- æ‡’åŠ è½½ç»„ä»¶
- å›¾ç‰‡é¢„è§ˆä¼˜åŒ–
- æŒ‰éœ€åŠ è½½ Markdown æ¸²æŸ“å™¨

### 4. æ„å»ºäº§ç‰©
```
dist/index.html                  2.80 kB
dist/assets/index.css            2.40 kB
dist/assets/react-vendor.js     11.79 kB
dist/assets/markdown.js        335.24 kB
dist/assets/index.js           520.04 kB
```

---

## ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1: åœ°å€é£é™©è¯„ä¼°
```
ç”¨æˆ·è¾“å…¥: 0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D
ç³»ç»Ÿå“åº”:
- è‡ªåŠ¨è¯†åˆ«ä¸º Ethereum åœ°å€
- ç”Ÿæˆé£é™©è¯„åˆ†
- æ˜¾ç¤ºæ ‡ç­¾å’Œå®ä½“ä¿¡æ¯
- å±•ç¤ºäº¤æ˜“å›¾è°±
- æä¾›å®‰å…¨å»ºè®®
```

### åœºæ™¯ 2: èµ„é‡‘è¿½è¸ª
```
ç”¨æˆ·è¾“å…¥: "è¿½è¸ªæœ€æ–°è·¨é“¾æ¡¥é»‘å®¢èµ„é‡‘"
ç³»ç»Ÿå“åº”:
- åˆ†ææ”»å‡»é“¾è·¯
- å±•ç¤ºèµ„é‡‘æµå‘æ—¶é—´çº¿
- æ ‡æ³¨å…³é”®åœ°å€
- è¯†åˆ«æ··å¸å™¨å’Œäº¤æ˜“æ‰€
- ç”Ÿæˆè°ƒæŸ¥æŠ¥å‘Š
```

### åœºæ™¯ 3: æ™ºèƒ½åˆçº¦å®¡è®¡
```
ç”¨æˆ·è¾“å…¥: "å®¡è®¡ USDT åˆçº¦é£é™©"
ç³»ç»Ÿå“åº”:
- åˆçº¦åœ°å€éªŒè¯
- ä»£ç å®‰å…¨åˆ†æ
- æ¼æ´æ£€æµ‹
- é£é™©ç­‰çº§è¯„ä¼°
- ä¿®å¤å»ºè®®
```

### åœºæ™¯ 4: å›¾ç‰‡åˆ†æ
```
ç”¨æˆ·æ“ä½œ: ä¸Šä¼ äº¤æ˜“æˆªå›¾
ç³»ç»Ÿå“åº”:
- OCR è¯†åˆ«åœ°å€
- æå–äº¤æ˜“ä¿¡æ¯
- é£é™©åˆ†æ
- ç”ŸæˆæŠ¥å‘Š
```

---

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 18+
- npm æˆ– yarn
- Ubuntu/Debian æœåŠ¡å™¨ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- åŸŸåå’Œ DNS é…ç½®

### æœ¬åœ°å¼€å‘
```bash
# 1. å…‹éš†é¡¹ç›®
git clone git@github.com:24373054/Matrix-Agent.git
cd Matrix-Agent/matrix-agent

# 2. å®‰è£…ä¾èµ–
npm install

# 3. é…ç½®ç¯å¢ƒå˜é‡
cat > .env.local << EOF
GEMINI_API_KEY=your_gemini_key
DEEPSEEK_API_KEY=your_deepseek_key
EOF

# 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
./start-dev.sh

# 5. è®¿é—®åº”ç”¨
# http://localhost:3119
```

### ç”Ÿäº§éƒ¨ç½²
```bash
# 1. é…ç½® SSL è¯ä¹¦
sudo ./setup-ssl.sh

# 2. æ„å»ºå’Œéƒ¨ç½²
sudo ./start.sh

# 3. è®¿é—®åº”ç”¨
# https://agent.matrixlab.work
```

### çŠ¶æ€æ£€æŸ¥
```bash
./status.sh
```

---

## è„šæœ¬è¯´æ˜

### ç”Ÿäº§ç¯å¢ƒ
| è„šæœ¬ | åŠŸèƒ½ | æƒé™ |
|------|------|------|
| `start.sh` | æ„å»ºç”Ÿäº§ç‰ˆæœ¬å¹¶éƒ¨ç½² | sudo |
| `stop.sh` | æ˜¾ç¤ºç”Ÿäº§ç¯å¢ƒä¿¡æ¯ | æ™®é€š |

### å¼€å‘ç¯å¢ƒ
| è„šæœ¬ | åŠŸèƒ½ | æƒé™ |
|------|------|------|
| `start-dev.sh` | å¯åŠ¨å¼€å‘æœåŠ¡å™¨ | æ™®é€š |
| `stop-dev.sh` | åœæ­¢å¼€å‘æœåŠ¡å™¨ | æ™®é€š |

### éƒ¨ç½²å·¥å…·
| è„šæœ¬ | åŠŸèƒ½ | æƒé™ |
|------|------|------|
| `deploy.sh` | ä¸€é”®éƒ¨ç½²ï¼ˆé¦–æ¬¡ï¼‰ | sudo |
| `setup-ssl.sh` | é…ç½® SSL è¯ä¹¦ | sudo |
| `status.sh` | æ£€æŸ¥è¿è¡ŒçŠ¶æ€ | æ™®é€š |

---

## é…ç½®æ–‡ä»¶

### .env.localï¼ˆç¯å¢ƒå˜é‡ï¼‰
```bash
GEMINI_API_KEY=your_gemini_api_key
DEEPSEEK_API_KEY=your_deepseek_api_key
```

### vite.config.tsï¼ˆæ„å»ºé…ç½®ï¼‰
```typescript
{
  server: {
    port: 3119,
    host: '0.0.0.0',
    allowedHosts: ['agent.matrixlab.work']
  },
  build: {
    minify: 'esbuild',
    rollupOptions: {
      output: {
        manualChunks: {...}
      }
    }
  }
}
```

### nginx.confï¼ˆWeb æœåŠ¡å™¨é…ç½®ï¼‰
```nginx
server {
    listen 443 ssl http2;
    server_name agent.matrixlab.work;
    
    ssl_certificate /etc/letsencrypt/live/agent.matrixlab.work/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/agent.matrixlab.work/privkey.pem;
    
    root /home/ubuntu/yz/Web3/MatrixAgent/matrix-agent/dist;
    index index.html;
    
    # SPA fallback
    location / {
        try_files $uri $uri/ /index.html;
    }
}
```

---

## API é›†æˆ

### DeepSeek API
```typescript
const response = await fetch('https://api.deepseek.com/v1/chat/completions', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': `Bearer ${DEEPSEEK_API_KEY}`
  },
  body: JSON.stringify({
    model: 'deepseek-chat',
    messages: [...],
    temperature: 0.7
  })
});
```

### Google Gemini API
```typescript
const ai = new GoogleGenAI({ apiKey: GEMINI_API_KEY });
const chat = ai.chats.create({
  model: 'gemini-1.5-flash',
  config: {
    systemInstruction: SYSTEM_INSTRUCTION,
    temperature: 0.7
  }
});
const result = await chat.sendMessage({ message });
```

---

## å…³é”®ç‰¹æ€§å®ç°

### 1. åœ°å€è‡ªåŠ¨è¯†åˆ«
```typescript
const ADDRESS_REGEX = /(0x[a-fA-F0-9]{40}|[1-9A-HJ-NP-Za-km-z]{32,44})/g;

const validateInput = (text: string) => {
  const ethRegex = /0x[a-fA-F0-9]{40}/;
  const solRegex = /\b[1-9A-HJ-NP-Za-km-z]{32,44}\b/;
  if (ethRegex.test(text)) setDetectedType('Ethereum');
  else if (solRegex.test(text)) setDetectedType('Solana');
};
```

### 2. æ¨¡å‹åˆ‡æ¢
```typescript
const [selectedModel, setSelectedModel] = useState<ModelProvider>('deepseek');

// æŒä¹…åŒ–å­˜å‚¨
useEffect(() => {
  localStorage.setItem('matrix_model', selectedModel);
}, [selectedModel]);

// è°ƒç”¨ AI
const responseText = await sendMessageToGemini(
  message,
  history,
  attachment,
  selectedModel  // ä¼ å…¥é€‰ä¸­çš„æ¨¡å‹
);
```

### 3. Markdown æ¸²æŸ“
```typescript
<ReactMarkdown
  remarkPlugins={[remarkGfm]}
  rehypePlugins={[rehypeHighlight]}
  components={{
    code: ({inline, className, children}) => {...},
    a: ({href, children}) => {...},
    table: ({children}) => {...}
  }}
>
  {msg.text}
</ReactMarkdown>
```

### 4. æ–‡ä»¶ä¸Šä¼ å¤„ç†
```typescript
const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {
  const file = e.target.files[0];
  const reader = new FileReader();
  reader.onload = (e) => {
    const result = e.target?.result as string;
    const base64Data = result.split(',')[1];
    setAttachment({
      name: file.name,
      type: file.type,
      data: base64Data,
      preview: result
    });
  };
  reader.readAsDataURL(file);
};
```

### 5. ä¸»é¢˜åˆ‡æ¢
```typescript
const [themeMode, setThemeMode] = useState<ThemeMode>('dark');
const isSystemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
const isDark = themeMode === 'system' ? isSystemDark : themeMode === 'dark';

// åŠ¨æ€æ ·å¼
const s = getThemeStyles(isDark);
```

---

## ç›‘æ§å’Œæ—¥å¿—

### åº”ç”¨æ—¥å¿—
```bash
# å®æ—¶æŸ¥çœ‹æ—¥å¿—ï¼ˆå¼€å‘æ¨¡å¼ï¼‰
tail -f logs/app.log

# æŸ¥çœ‹æœ€è¿‘ 100 è¡Œ
tail -n 100 logs/app.log

# æœç´¢é”™è¯¯
grep -i error logs/app.log
```

### Nginx æ—¥å¿—
```bash
# è®¿é—®æ—¥å¿—
tail -f /var/log/nginx/agent.matrixlab.work.access.log

# é”™è¯¯æ—¥å¿—
tail -f /var/log/nginx/agent.matrixlab.work.error.log
```

### çŠ¶æ€æ£€æŸ¥è¾“å‡º
```bash
$ ./status.sh

ğŸ” Matrix Agent Status Check
============================

âœ… Application: RUNNING (PID: 409568)
   CPU Usage: 1.2%
   Memory Usage: 1.6%
   Uptime: 00:17

âœ… Port 3119: IN USE (PID: 409583)

âœ… Nginx: RUNNING
   Config: INSTALLED

âœ… SSL Certificate: INSTALLED
   Expires: Apr  2 13:46:46 2026 GMT

ğŸ“‹ Log File: logs/app.log
   Size: 4.0K
   Lines: 10
```

---

## æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: ç«¯å£è¢«å ç”¨
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
lsof -i:3119

# æ¸…ç†ç«¯å£
./stop-dev.sh
```

### é—®é¢˜ 2: SSL è¯ä¹¦è¿‡æœŸ
```bash
# æ‰‹åŠ¨ç»­æœŸ
sudo certbot renew

# é‡æ–°åŠ è½½ Nginx
sudo systemctl reload nginx
```

### é—®é¢˜ 3: æ„å»ºå¤±è´¥
```bash
# æ¸…ç†ç¼“å­˜
rm -rf node_modules dist
npm install
sudo ./start.sh
```

### é—®é¢˜ 4: API è°ƒç”¨å¤±è´¥
```bash
# æ£€æŸ¥ç¯å¢ƒå˜é‡
cat .env.local

# æ£€æŸ¥ API Key æ˜¯å¦æœ‰æ•ˆ
# æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
```

---

## æœªæ¥è§„åˆ’

### çŸ­æœŸç›®æ ‡
- [ ] æ·»åŠ æ›´å¤šåŒºå—é“¾ç½‘ç»œæ”¯æŒï¼ˆBSC, Polygon, Arbitrumï¼‰
- [ ] é›†æˆçœŸå®çš„é“¾ä¸Šæ•°æ® APIï¼ˆEtherscan, Chainalysisï¼‰
- [ ] å¢å¼ºäº¤æ˜“å›¾è°±å¯è§†åŒ–ï¼ˆ3D å›¾è¡¨ï¼‰
- [ ] æ·»åŠ  PDF æŠ¥å‘Šå¯¼å‡ºåŠŸèƒ½
- [ ] å®ç°ç”¨æˆ·è®¤è¯ç³»ç»Ÿ

### ä¸­æœŸç›®æ ‡
- [ ] æ”¯æŒæ‰¹é‡åœ°å€åˆ†æ
- [ ] æ·»åŠ å®æ—¶ç›‘æ§å’Œå‘Šè­¦
- [ ] é›†æˆæ›´å¤š AI æ¨¡å‹ï¼ˆClaude, GPT-4ï¼‰
- [ ] å¼€å‘ç§»åŠ¨ç«¯åº”ç”¨
- [ ] æ·»åŠ  API æ¥å£ä¾›ç¬¬ä¸‰æ–¹è°ƒç”¨

### é•¿æœŸç›®æ ‡
- [ ] æ„å»ºåŒºå—é“¾å¨èƒæƒ…æŠ¥æ•°æ®åº“
- [ ] å¼€å‘è‡ªåŠ¨åŒ–è°ƒæŸ¥å·¥ä½œæµ
- [ ] é›†æˆæœºå™¨å­¦ä¹ é£é™©é¢„æµ‹æ¨¡å‹
- [ ] æ”¯æŒè·¨é“¾èµ„é‡‘è¿½è¸ª
- [ ] å»ºç«‹ç¤¾åŒºè´¡çŒ®çš„å¨èƒæ ‡ç­¾ç³»ç»Ÿ

---

## è´¡çŒ®æŒ‡å—

### å¼€å‘æµç¨‹
1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### ä»£ç è§„èŒƒ
- ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼
- éµå¾ª React Hooks æœ€ä½³å®è·µ
- ç»„ä»¶ä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹
- æ·»åŠ å¿…è¦çš„æ³¨é‡Šå’Œæ–‡æ¡£

---

## è®¸å¯è¯

MIT License

---

## è”ç³»æ–¹å¼

- **é¡¹ç›®ä¸»é¡µ**: https://github.com/24373054/Matrix-Agent
- **åœ¨çº¿æ¼”ç¤º**: https://agent.matrixlab.work
- **é—®é¢˜åé¦ˆ**: GitHub Issues

---

## è‡´è°¢

### æŠ€æœ¯æ ˆ
- React Team - ä¼˜ç§€çš„å‰ç«¯æ¡†æ¶
- Vite Team - å¿«é€Ÿçš„æ„å»ºå·¥å…·
- Google - Gemini AI API
- DeepSeek - é«˜æ€§èƒ½ AI æ¨¡å‹
- Lucide - ç²¾ç¾çš„å›¾æ ‡åº“

### çµæ„Ÿæ¥æº
- Chainalysis - åŒºå—é“¾åˆ†æå¹³å°
- Elliptic - åŠ å¯†è´§å¸åˆè§„è§£å†³æ–¹æ¡ˆ
- TRM Labs - åŒºå—é“¾æƒ…æŠ¥å¹³å°

---

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2026-01-02)
- âœ… åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ… å¤šæ¨¡å‹ AI æ”¯æŒï¼ˆDeepSeek, Geminiï¼‰
- âœ… åŒºå—é“¾åœ°å€åˆ†æ
- âœ… äº¤æ˜“å›¾è°±å¯è§†åŒ–
- âœ… Markdown æ¸²æŸ“
- âœ… å¤šè¯­è¨€æ”¯æŒï¼ˆEN/ZH/JAï¼‰
- âœ… ä¸»é¢˜åˆ‡æ¢ï¼ˆLight/Darkï¼‰
- âœ… æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
- âœ… ç”Ÿäº§çº§éƒ¨ç½²
- âœ… SSL/HTTPS é…ç½®
- âœ… å®Œæ•´çš„éƒ¨ç½²è„šæœ¬

---

**Built with â¤ï¸ for Blockchain Security**
